(function(n){function t(t){for(var o,c,i=t[0],u=t[1],l=t[2],p=0,d=[];p<i.length;p++)c=i[p],Object.prototype.hasOwnProperty.call(a,c)&&a[c]&&d.push(a[c][0]),a[c]=0;for(o in u)Object.prototype.hasOwnProperty.call(u,o)&&(n[o]=u[o]);s&&s(t);while(d.length)d.shift()();return r.push.apply(r,l||[]),e()}function e(){for(var n,t=0;t<r.length;t++){for(var e=r[t],o=!0,i=1;i<e.length;i++){var u=e[i];0!==a[u]&&(o=!1)}o&&(r.splice(t--,1),n=c(c.s=e[0]))}return n}var o={},a={app:0},r=[];function c(t){if(o[t])return o[t].exports;var e=o[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,c),e.l=!0,e.exports}c.m=n,c.c=o,c.d=function(n,t,e){c.o(n,t)||Object.defineProperty(n,t,{enumerable:!0,get:e})},c.r=function(n){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},c.t=function(n,t){if(1&t&&(n=c(n)),8&t)return n;if(4&t&&"object"===typeof n&&n&&n.__esModule)return n;var e=Object.create(null);if(c.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:n}),2&t&&"string"!=typeof n)for(var o in n)c.d(e,o,function(t){return n[t]}.bind(null,o));return e},c.n=function(n){var t=n&&n.__esModule?function(){return n["default"]}:function(){return n};return c.d(t,"a",t),t},c.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},c.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],u=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var s=u;r.push([0,"chunk-vendors"]),e()})({0:function(n,t,e){n.exports=e("56d7")},1:function(n,t){},2:function(n,t){},"56d7":function(n,t,e){"use strict";e.r(t);e("b680"),e("ac1f"),e("5319"),e("e260"),e("e6cf"),e("cca6"),e("a79d");var o=e("2b0e"),a=function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",[e("mu-appbar",{staticClass:"title"},[n._v(" "+n._s(n.currentPluginData.Name)+" "),e("mu-button",{attrs:{icon:"",color:"primary"},on:{click:n.getHelp}},[e("mu-icon",{attrs:{value:"help"}})],1),e("mu-button",{attrs:{icon:"",color:"primary"},on:{click:n.showSettings}},[e("mu-icon",{attrs:{value:"settings"}})],1),n._l(n.menus,(function(t){return e("mu-button",{key:t.label,attrs:{flat:"",color:"primary"},on:{click:function(n){return t.action()}}},[n._v(" "+n._s(t.label)+" ")])})),e("div",{attrs:{slot:"right"},slot:"right"},[n._v(" 启动时间："+n._s(n.engineInfo.StartTime)+" ")])],2),e("mu-drawer",{attrs:{open:"",width:"200"}},[e("mu-appbar",{attrs:{"z-depth":0}},[e("div",{staticStyle:{"line-height":"24px"}},[e("img",{staticStyle:{"vertical-align":"top"},attrs:{src:"favicon.ico",width:"24"}}),n._v("onibuca ")]),e("div",{staticStyle:{"font-size":"10px","line-height":"24px"}},[n._v("engine: "+n._s(n.engineInfo.Version))])]),e("mu-divider"),e("mu-list",{attrs:{value:n.currentPluginData.Name},on:{change:n.selectPlugin}},n._l(n.plugins,(function(t){return e("mu-list-item",{key:t.Name,attrs:{value:t.Name,button:""}},[e("mu-list-item-title",[n._v(n._s((t.UIDir?"📈":"🧩")+t.Name))]),e("mu-list-item-action",[e("mu-badge",{attrs:{content:t.Version.split("-")[0]}})],1)],1)})),1)],1),e("div",{staticStyle:{padding:"100px 20px 20px 220px"}},[n.currentPluginData.UIDir?e(n.currentPlugin,n._b({ref:"plugin",tag:"component"},"component",n.currentConfig,!1)):e("vue-markdown",{staticStyle:{padding:"24px"},attrs:{source:n.currentPluginData.ReadMe}})],1),e("mu-dialog",{attrs:{width:"360",transition:"slide-bottom",fullscreen:"",open:n.openFullscreen},on:{"update:open":function(t){n.openFullscreen=t}}},[e("mu-appbar",{attrs:{color:"#009688AF",title:n.currentPluginData.Name}},[e("mu-button",{attrs:{slot:"left",icon:""},on:{click:n.closeFullscreenDialog},slot:"left"},[e("mu-icon",{attrs:{value:"close"}})],1),e("mu-button",{attrs:{slot:"right",flat:""},on:{click:n.closeFullscreenDialog},slot:"right"},[n._v(" Done ")])],1),e("vue-markdown",{staticClass:"readme",attrs:{source:n.currentPluginData.ReadMe}})],1),e("mu-dialog",{attrs:{width:"360",transition:"slide-bottom",open:n.openSettings},on:{"update:open":function(t){n.openSettings=t}}},[e("pre",[n._v(n._s(n.currentPluginData.Config))])])],1)},r=[],c=(e("7db0"),e("5530")),i=e("2f62"),u=e("9ce6"),l=e.n(u),s=e("3f1c"),p=e.n(s),d={components:{VueMarkdown:l.a},data:function(){return{openFullscreen:!1,openSettings:!1,currentPluginData:{},menus:[]}},watch:{},computed:Object(c["a"])({},Object(i["c"])({plugins:function(n){return n.plugins},engineInfo:function(n){return n.engineInfo}}),{currentPlugin:function(){return"plugin-"+this.currentPluginData.Name.toLowerCase()},currentConfig:function(){return p.a.parse(this.currentPluginData.Config)}}),mounted:function(){var n=this;this.fetchEngineInfo(),this.fetchPlugins().then((function(t){for(var e=function(e){if(t[e].UIDir){var a="plugin-"+t[e].Name.toLowerCase();o["default"].component(a,(function(o,r){var c=document.createElement("script");c.setAttribute("src",n.apiHost+"/plugin/"+t[e].Name+"/"+a+".umd.min.js"),c.onload=function(){o(window[a])},c.onerror=r,document.body.appendChild(c)}));var r=document.createElement("link");r.href=n.apiHost+"/plugin/"+t[e].Name+"/"+a+".css",r.setAttribute("rel","stylesheet"),r.setAttribute("type","text/css"),document.head.appendChild(r)}},a=0;a<t.length;a++)e(a);n.selectPlugin("GateWay")})),this.fetchSummary()},methods:Object(c["a"])({},Object(i["b"])(["fetchEngineInfo","fetchPlugins"]),{closeFullscreenDialog:function(){this.openFullscreen=!1},selectPlugin:function(n){this.currentPluginData=this.plugins.find((function(t){return t.Name==n}))},getHelp:function(){this.openFullscreen=!0},showSettings:function(){this.openSettings=!0}})},f=d,m=(e("7361"),e("2877")),g=Object(m["a"])(f,a,r,!1,null,null,null),h=g.exports;o["default"].use(i["a"]);var b=o["default"].prototype.apiHost="//"+location.host,x={0:"Linear PCM, platform endian",1:"ADPCM",2:"MP3",3:"Linear PCM, little endian",4:"Nellymoser 16kHz mono",5:"Nellymoser 8kHz mono",6:"Nellymoser",7:"G.711 A-law logarithmic PCM",8:"G.711 mu-law logarithmic PCM",9:"reserved",10:"AAC",11:"Speex",14:"MP3 8Khz",15:"Device-specific sound"},v={1:"JPEG (currently unused)",2:"Sorenson H.263",3:"Screen video",4:"On2 VP6",5:"On2 VP6 with alpha channel",6:"Screen video version 2",7:"AVC",12:"H265"};o["default"].prototype.SoundFormat=function(n){return x[n]},o["default"].prototype.CodecID=function(n){return v[n]},o["default"].prototype.SoundRate=function(n){return n>1e3?n/1e3+"kHz":n+"Hz"};var y=null,w=new i["a"].Store({state:{plugins:[],Address:location.hostname,NetWork:[],Rooms:[],Memory:{Used:0,Usage:0},CPUUsage:0,HardDisk:{Used:0,Usage:0},Children:{},engineInfo:{}},mutations:{update:function(n,t){Object.assign(n,t)}},actions:{fetchEngineInfo:function(n){var t=n.commit;return window.ajax.getJSON(b+"/api/sysInfo").then((function(n){return t("update",{engineInfo:n})}))},fetchPlugins:function(n){var t=n.commit;return window.ajax.getJSON(b+"/api/plugins").then((function(n){return n.sort((function(n,t){return n.Name>t.Name?1:-1})),t("update",{plugins:n}),n}))},fetchSummary:function(n){var t=n.commit;y=new EventSource(b+"/api/summary"),y.onmessage=function(n){if(n.data){var e=JSON.parse(n.data);e.Address=location.hostname,e.Rooms||(e.Rooms=[]),e.Rooms.sort((function(n,t){return n.StreamPath>t.StreamPath?1:-1})),t("update",{summary:e})}}}}}),k=e("f825"),P=e.n(k);e("f8ce");o["default"].use(P.a);e("99af");var S=e("30f4"),_=(e("d6f6"),e("dd88")),C=e("4d7d"),D=e("d4ea"),O=(e("2095"),e("aa12"),e("d09c")),j=e.n(O),N=e("efa6"),M=e.n(N),I=e("37b7");o["default"].use(j.a),o["default"].use(D["a"],{overlayColor:"#9e9e9e5d",size:48,color:"primary",className:""}),o["default"].use(C["a"]),o["default"].use(_["a"]),o["default"].use(S["a"]);var A=["#153ad0","#d11b58","#4a1798","#c52dd0","#40d3fc","#feeb73"];M.a.add("Cyberpunk",{primary:A[4],secondary:I["amber"],text:{primary:I["grey200"],secondary:"rgba(255, 255, 255, 0.7)",alternate:"#303030",disabled:"rgba(255, 255, 255, 0.3)",hint:"rgba(255, 255, 255, 0.3)"}},"dark"),M.a.addCreateTheme((function(){return"\n    html {\n        height:100%\n    }\n    body {\n        background-image: radial-gradient(".concat(A[3],"7a,").concat(A[2],"7a, #0300137a);\n        color: #ffffff;\n        background-color: black;\n        height:100%;\n    }\n    .mu-item {\n        color :").concat(A[4],";\n        text-shadow: 0px 2px 2px ").concat(A[3],";\n    }\n    .mu-item:hover {\n        color : #ffb4f6;\n        background:#000;\n    }\n    .mu-item.is-selected>.mu-item-title{\n        color: #ffb4f6;\n        text-shadow: 0px 0px 1px ").concat(A[2],", 0px 0px 4px ").concat(A[3],", 0px 0px 5px #ffffff;\n    }\n    .mu-badge {\n        color : ").concat(A[4],";\n        background : ").concat(A[2],";\n    }\n    .mu-paper {\n        background: #0000000f;\n    }\n    .mu-appbar{\n        background: #000;\n        color : #000;\n        text-shadow: \n        1px 1px ").concat(A[4],",\n        -1px -1px ").concat(A[4],",\n        1px -1px ").concat(A[4],",\n        -1px 1px ").concat(A[4],";\n    }\n    .mu-appbar .mu-button{\n        color :").concat(A[4],"\n    }\n    .mu-dialog{\n        background: #0000009e url(dbg.jpg);\n        background-blend-mode: darken;\n        box-shadow: \n        inset 0px -2px 5px 0px ").concat(A[3],", \n        inset 0px -7px 10px 1px ").concat(A[0],",\n        inset 0 3px 14px 2px ").concat(A[2],",\n        0 2px 2px 2px black;\n        border: 1px solid ").concat(A[4],';\n        position:relative;\n    }\n    .mu-dialog:before{\n        content: "";\n        position: absolute;\n        width: 50px;\n        height: 0;\n        border: 10px solid ').concat(A[4],';\n        top: -10px;\n        left: -1px;\n        border-right: 10px solid transparent;\n        border-top: 0;\n    }\n    .mu-dialog:after{\n        content: "";\n        position: absolute;\n        width: 50px;\n        height: 0;\n        border: 10px solid ').concat(A[4],";\n        border-left: 10px solid transparent;\n        border-bottom: 0;\n        right: -1px;\n    }\n    .mu-dialog-title {\n        font-weight: lighter;\n        color : ").concat(I["grey300"],";\n        text-shadow: \n        1px 1px 2px ").concat(A[4],",\n        -1px -1px 2px ").concat(A[4],",\n        1px -1px 2px ").concat(A[4],",\n        -1px 1px 2px ").concat(A[4],";\n    }\n    .mu-dialog-body {\n        color : ").concat(I["grey200"],";\n    }\n    .mu-button {\n        color:  ").concat(A[4],";\n    }\n    .mu-button :hover{\n        color:  white;\n        text-shadow: 0px 0px 3px ").concat(I["cyanA200"],";\n    }\n    .mu-table {\n        background: #00000047;\n        box-shadow: 0 0 5px ").concat(A[4],",inset 0 0 5px ").concat(A[4],",0 0 0 1px ").concat(A[4],";\n        border-radius: 5px;\n    }\n    .mu-table-empty {\n        color : white;\n    }\n    .mu-table th {\n        color: ").concat(A[1],";\n        text-shadow: 0px 0px 2px ").concat(A[1],";\n    }\n    .mu-table tr {\n        color: ").concat(A[4],";\n    }\n    .mu-table tr.is-hover {\n        background: #000;\n        color: white;\n        text-shadow: 0px 0px 3px ").concat(A[4],";\n    }\n    .mu-flat-button {\n        color: ").concat(A[4],";\n    }\n    .mu-card {\n        background: #9e9e9e1d;\n        border: 1px solid #ffffffa8;\n    }\n    .mu-card-title-container .mu-card-title {\n        color: ").concat(A[5],";\n    }\n    .mu-card-title-container .mu-card-sub-title {\n        color: ").concat(A[3],";\n    }\n    .mu-tabs-inverse {\n        background: transparent;\n        color:").concat(I["grey200"],";\n    }\n    .mu-tab :hover {\n        color: white;\n    }\n    .mu-tab-active.is-inverse {\n        color: ").concat(A[4],";\n    }\n    .mu-tab-active.is-inverse :hover {\n        color: ").concat(A[4],";\n        text-shadow: 0px 0px 3px ").concat(A[4],";\n    }\n    .mu-tab-link-highlight {\n        box-shadow: 0 -2px 5px 1px ").concat(A[4],";\n    }\n    .mu-tab-active.is-inverse.hover ~ .mu-tab-link-highlight {\n        box-shadow: 0 -2px 5px 3px ").concat(A[4],";\n    }\n    .mu-input-line{\n        background:").concat(A[4],";\n    }\n    .mu-input ,.mu-text-field-input{\n        color : ").concat(A[5],";\n    }\n    .mu-input-help {\n        color : ").concat(A[3],";\n    }\n    .mu-input.has-label .mu-input-label.float{\n        color : ").concat(A[0],";\n    }\n    ")})),M.a.use("Cyberpunk"),o["default"].config.productionTip=!1,window.Vue=o["default"];var F={"":"K",K:"M",M:"G",G:null};function H(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return n>1024&&F[t]?H(n/1024,F[t]):n.toFixed(2).replace(".00","")+t+"B"}o["default"].prototype.ajax=window.ajax,o["default"].prototype.unitFormat=H,new o["default"]({store:w,render:function(n){return n(h)}}).$mount("#app")},7361:function(n,t,e){"use strict";var o=e("a95c"),a=e.n(o);a.a},a95c:function(n,t,e){}});
//# sourceMappingURL=app.f61b4e5f.js.map